# ==========================================
# 1. 硬件与目标机型 (Redmi AX6000)
# ==========================================
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_xiaomi_redmi-router-ax6000=y

# ==========================================
# 2. Wi-Fi 驱动 (官方源专用 - 开源驱动)
# ==========================================
# 官方源必须用这个，否则没 WiFi
CONFIG_PACKAGE_kmod-mt7986-firmware=y
CONFIG_PACKAGE_kmod-mt76-connac=y
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_wpad-openssl=y

# 强制移除闭源驱动 (防止报错)
# CONFIG_PACKAGE_luci-app-mtwifi is not set
# CONFIG_PACKAGE_mtwifi-cfg is not set

# ==========================================
# 3. 基础系统与 LuCI
# ==========================================
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-app-opkg=y
CONFIG_PACKAGE_luci-app-firewall=y

# 主题 (Argon + 默认)
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-app-argon-config=y

# 常用工具
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_htop=y

# ==========================================
# 4. Passwall 插件设置 (修复版)
# ==========================================
# 使用标准版 Passwall (比 Passwall2 更稳)
CONFIG_PACKAGE_luci-app-passwall=y

# 开启核心组件 (必须开，否则无法连接节点)
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_SingBox=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Hysteria=y

# 开启常用协议支持
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Libev_Client=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_ShadowsocksR_Libev_Client=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Trojan_Plus=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Simple_Obfs=y

# 防止 Passwall2 冲突，显式关闭
# CONFIG_PACKAGE_luci-app-passwall2 is not set

# ==========================================
# 5. 其他保留的实用插件
# ==========================================
# 流量统计 (查看局域网谁在下载)
CONFIG_PACKAGE_luci-app-nlbwmon=y
# UPnP (游戏加速/BT下载必备)
CONFIG_PACKAGE_luci-app-upnp=y

# ==========================================
# 6. 清理不需要的插件
# ==========================================
# CONFIG_PACKAGE_luci-app-ddns is not set
# CONFIG_PACKAGE_luci-app-wol is not set
# CONFIG_PACKAGE_luci-app-access-control is not set
# CONFIG_PACKAGE_luci-app-turboacc is not set
